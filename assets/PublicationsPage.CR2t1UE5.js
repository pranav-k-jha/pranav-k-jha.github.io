import{u as W,r as m,j as t,m as r}from"./main.B7fkQPL5.js";async function X(h){try{const a=await fetch(`https://pub.orcid.org/v3.0/${h}/works`,{headers:{Accept:"application/json"}});if(!a.ok)throw new Error("Failed to fetch ORCID data");return(await a.json()).group||[]}catch(a){return console.error("Error fetching ORCID publications:",a),[]}}const z=()=>{const{theme:h}=W(),[a,j]=m.useState([]),[B,F]=m.useState(!0),[N,w]=m.useState(null),L="0000-0001-8053-988X";m.useEffect(()=>{(async()=>{try{const e=[...await X(L)||[]].sort((b,i)=>{var s,n,o,l,c,d,u,x;const f=((l=(o=(n=(s=b["work-summary"])==null?void 0:s[0])==null?void 0:n["publication-date"])==null?void 0:o.year)==null?void 0:l.value)||0;return(((x=(u=(d=(c=i["work-summary"])==null?void 0:c[0])==null?void 0:d["publication-date"])==null?void 0:u.year)==null?void 0:x.value)||0)-f});j(e),w(null)}catch(y){console.error("Error loading publications:",y),w("Failed to load publications. Please try again later.")}finally{F(!1)}})()},[]);const H={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},T={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},U={hidden:{opacity:0,y:-20},show:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return B?t.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:t.jsx(r.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):N?t.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:t.jsx(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-center text-red-500",children:N})}):a.length?t.jsxs(r.div,{initial:"hidden",animate:"show",className:`min-h-[80vh] py-24 px-4 max-w-4xl mx-auto ${h==="dark"?"text-gray-200":"text-gray-800"}`,children:[t.jsx(r.h1,{variants:U,className:`text-3xl font-bold mb-8 border-b pb-2 ${h==="dark"?"border-gray-700":"border-gray-200"}`,children:"Publications"}),t.jsx(r.div,{variants:H,className:"space-y-8",children:a.map((p,y)=>{var l,c,d,u,x,k,P,E,C,I,$,O,R,D,V,_;const e=((l=p["work-summary"])==null?void 0:l[0])||{},b=((d=(c=e==null?void 0:e.title)==null?void 0:c.title)==null?void 0:d.value)||"Untitled",i=(u=e==null?void 0:e.url)==null?void 0:u.value,f=(k=(x=e==null?void 0:e["publication-date"])==null?void 0:x.year)==null?void 0:k.value,g=(P=e==null?void 0:e["journal-title"])==null?void 0:P.value,s=(I=(C=(E=e==null?void 0:e["external-ids"])==null?void 0:E["external-id"])==null?void 0:C.find(v=>v["external-id-type"]==="doi"))==null?void 0:I["external-id-value"],n=(O=($=p["work-summary"])==null?void 0:$[0])==null?void 0:O.type,o=(_=(V=(D=(R=p["work-summary"])==null?void 0:R[0])==null?void 0:D.contributors)==null?void 0:V.contributor)==null?void 0:_.map(v=>{var A;return(A=v["credit-name"])==null?void 0:A.value}).join(", ");return t.jsx(r.div,{variants:T,whileHover:{x:4},children:t.jsxs("div",{className:"flex items-baseline",children:[t.jsx("div",{className:"text-sm font-mono text-gray-500 dark:text-gray-400 w-16 flex-shrink-0",children:f}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`text-lg font-medium leading-snug transition-colors ${i?"hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer":""}`,onClick:()=>i&&window.open(i,"_blank"),children:b}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[g&&t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:g}),n&&t.jsx("span",{className:"px-2 py-0.5 text-xs rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 whitespace-nowrap",children:n.replace(/_/g," ").toLowerCase()})]}),s&&t.jsx("a",{href:`https://doi.org/${s}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-mono text-blue-500 dark:text-blue-400 hover:underline block mt-1",children:s}),o&&t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[o,"."]})]})]})},y)})})]}):t.jsx("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-500",children:t.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"No publications found."})})};export{z as default};
