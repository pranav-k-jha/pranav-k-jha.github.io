import{u as W,r as p,j as t,m as e}from"./main.CcT-mZMJ.js";async function q(n){try{const a=await fetch(`https://pub.orcid.org/v3.0/${n}/works`,{headers:{Accept:"application/json"}});if(!a.ok)throw new Error("Failed to fetch ORCID data");return(await a.json()).group||[]}catch(a){return console.error("Error fetching ORCID publications:",a),[]}}const G=()=>{const{theme:n}=W(),[a,v]=p.useState([]),[A,B]=p.useState(!0),[j,w]=p.useState(null),F="0000-0001-8053-988X";p.useEffect(()=>{(async()=>{try{const b=[...await q(F)||[]].sort((s,g)=>{var o,l,c,d,u,m,y,h;const x=((d=(c=(l=(o=s["work-summary"])==null?void 0:o[0])==null?void 0:l["publication-date"])==null?void 0:c.year)==null?void 0:d.value)||0;return(((h=(y=(m=(u=g["work-summary"])==null?void 0:u[0])==null?void 0:m["publication-date"])==null?void 0:y.year)==null?void 0:h.value)||0)-x});v(b),w(null)}catch(i){console.error("Error loading publications:",i),w("Failed to load publications. Please try again later.")}finally{B(!1)}})()},[]);const H={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},L={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},T={hidden:{opacity:0,y:-20},show:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return A?t.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:t.jsx(e.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):j?t.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:t.jsx(e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-center text-red-500",children:j})}):a.length?t.jsxs(e.div,{initial:"hidden",animate:"show",className:`min-h-[80vh] py-24 px-4 max-w-4xl mx-auto ${n==="dark"?"text-gray-200":"text-gray-800"}`,children:[t.jsx(e.h1,{variants:T,className:`text-3xl font-bold mb-8 border-b pb-2 ${n==="dark"?"border-gray-700":"border-gray-200"}`,children:"Publications"}),t.jsx(e.div,{variants:H,className:"space-y-8",children:a.map((r,i)=>{var l,c,d,u,m,y,h,k,N,P,E,C,I,$,O,R,V,D,S,X;const b=((u=(d=(c=(l=r["work-summary"])==null?void 0:l[0])==null?void 0:c.title)==null?void 0:d.title)==null?void 0:u.value)||"Untitled",s=(h=(y=(m=r["work-summary"])==null?void 0:m[0])==null?void 0:y.url)==null?void 0:h.value,g=(E=(P=(N=(k=r["work-summary"])==null?void 0:k[0])==null?void 0:N["publication-date"])==null?void 0:P.year)==null?void 0:E.value,x=($=(I=(C=r["work-summary"])==null?void 0:C[0])==null?void 0:I["journal-title"])==null?void 0:$.value,f=(R=(O=r["work-summary"])==null?void 0:O[0])==null?void 0:R.type,o=(X=(S=(D=(V=r["work-summary"])==null?void 0:V[0])==null?void 0:D.contributors)==null?void 0:S.contributor)==null?void 0:X.map(U=>{var _;return(_=U["credit-name"])==null?void 0:_.value}).join(", ");return t.jsxs(e.div,{variants:L,whileHover:{x:4},transition:{type:"spring",stiffness:300,damping:20},className:"group",children:[t.jsxs("div",{className:"flex items-baseline",children:[t.jsx("div",{className:"text-sm font-mono text-gray-500 dark:text-gray-400 w-16 flex-shrink-0",children:g}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`text-lg font-medium leading-snug transition-colors ${s?"hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer":""}`,onClick:()=>s&&window.open(s,"_blank"),children:b}),t.jsxs("div",{className:"text-sm mt-1 text-gray-600 dark:text-gray-400",children:[o&&t.jsxs("span",{children:[o,". "]}),x&&t.jsx("span",{className:"italic",children:x}),f&&t.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:f.replace(/_/g," ").toLowerCase()})]}),s&&t.jsx(e.a,{href:s,target:"_blank",rel:"noopener noreferrer",whileHover:{x:2},className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1 inline-block",children:"View Publication â†’"})]})]}),i<a.length-1&&t.jsx(e.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:i*.1+.3,duration:.5},className:`h-px my-6 origin-left ${n==="dark"?"bg-gray-700":"bg-gray-200"}`})]},i)})})]}):t.jsx("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-500",children:t.jsx(e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"No publications found."})})};export{G as default};
